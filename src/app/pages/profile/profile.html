<div class="profile-page" *ngIf="user">
  <!-- En-tête du profil -->
  <div class="profile-header">
    <div class="profile-avatar-container">
      <img [src]="user.avatar" [alt]="user.name" class="profile-avatar" />
    </div>

    <h1 class="profile-name">{{ user.name }}</h1>
    <p class="profile-username">@{{ user.username }}</p>
    
    <p class="profile-bio" *ngIf="user.bio">{{ user.bio }}</p>
    
    <a 
      *ngIf="user.website" 
      [href]="user.website" 
      target="_blank" 
      class="profile-website"
    >
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="12" cy="12" r="10"/>
        <line x1="2" y1="12" x2="22" y2="12"/>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
      </svg>
      {{ user.website }}
    </a>

    <div class="profile-stats">
      <div class="stat-item">
        <span class="stat-value">{{ user.followers }}</span>
        <span class="stat-label">Abonnés</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">{{ user.following }}</span>
        <span class="stat-label">Abonnements</span>
      </div>
    </div>

    <div class="profile-actions">
      <button class="action-btn secondary" (click)="onShareProfile()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
          <polyline points="16 6 12 2 8 6"/>
          <line x1="12" y1="2" x2="12" y2="15"/>
        </svg>
        Partager
      </button>
      <button class="action-btn primary" (click)="onEditProfile()">
        Modifier le profil
      </button>
    </div>
  </div>

  <!-- Navigation des onglets -->
  <div class="profile-tabs">
    <button 
      class="tab-btn"
      [class.active]="activeTab === 'created'"
      (click)="switchTab('created')"
    >
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <rect x="3" y="3" width="7" height="7"/>
        <rect x="14" y="3" width="7" height="7"/>
        <rect x="14" y="14" width="7" height="7"/>
        <rect x="3" y="14" width="7" height="7"/>
      </svg>
      Créés
    </button>
    <button 
      class="tab-btn"
      [class.active]="activeTab === 'saved'"
      (click)="switchTab('saved')"
    >
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="m19 21-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
      </svg>
      Enregistrés
    </button>
  </div>

  <!-- Grille de pins -->
  <div class="pins-container">
    <div class="pins-masonry">
      <app-pin-card 
        *ngFor="let pin of userPins"
        [pin]="pin"
      ></app-pin-card>
    </div>
  </div>

  <!-- État vide -->
  <div class="empty-state" *ngIf="!loading && userPins.length === 0">
    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <rect x="3" y="3" width="7" height="7"/>
      <rect x="14" y="3" width="7" height="7"/>
      <rect x="14" y="14" width="7" height="7"/>
      <rect x="3" y="14" width="7" height="7"/>
    </svg>
    <h2>Rien ici pour le moment</h2>
    <p>Les pins que vous créez apparaîtront ici</p>
  </div>

  <!-- Loading -->
  <div class="loading-container" *ngIf="loading">
    <div class="spinner"></div>
  </div>
</div>
